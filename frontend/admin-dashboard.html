<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VieShop Admin Dashboard</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <div class="admin-sidebar">
            <div class="logo">
                <h2>VieShop Admin</h2>
            </div>
            <ul class="admin-menu">
                <li class="admin-menu-item active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </li>
                <li class="admin-menu-item" data-section="users">
                    <i class="fas fa-users"></i>
                    <span>Users</span>
                </li>
                <li class="admin-menu-item" data-section="shops">
                    <i class="fas fa-store"></i>
                    <span>Shops</span>
                </li>
                <li class="admin-menu-item" data-section="products">
                    <i class="fas fa-box"></i>
                    <span>Products</span>
                </li>
                <li class="admin-menu-item" data-section="orders">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Orders</span>
                </li>
                <li class="admin-menu-item" data-section="categories">
                    <i class="fas fa-tags"></i>
                    <span>Categories</span>
                </li>
                <li class="admin-menu-item" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </li>
                <li class="admin-menu-item" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="admin-main">
            <!-- Header -->
            <div class="admin-header">
                <div class="admin-header-left">
                    <button id="toggleSidebar">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h2 id="sectionTitle">Dashboard</h2>
                </div>
                <div class="admin-header-right">
                    <div class="admin-search">
                        <input type="text" placeholder="Search...">
                        <button><i class="fas fa-search"></i></button>
                    </div>
                    <div class="admin-profile">
                        <img src="assets/default-avatar.png" alt="Admin Profile" id="adminAvatar">
                        <span id="adminName">Admin User</span>
                    </div>
                </div>
            </div>

            <!-- Content Sections -->
            <div class="admin-content">
                <!-- Dashboard Section -->
                <div class="admin-section active" id="dashboard-section">
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <div class="stat-icon users-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <h3>Total Users</h3>
                                <p id="totalUsers">0</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon shops-icon">
                                <i class="fas fa-store"></i>
                            </div>
                            <div class="stat-info">
                                <h3>Total Shops</h3>
                                <p id="totalShops">0</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon products-icon">
                                <i class="fas fa-box"></i>
                            </div>
                            <div class="stat-info">
                                <h3>Total Products</h3>
                                <p id="totalProducts">0</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon orders-icon">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <div class="stat-info">
                                <h3>Total Orders</h3>
                                <p id="totalOrders">0</p>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-charts">
                        <div class="chart-container">
                            <h3>Sales Overview</h3>
                            <div id="salesChart" style="width: 100%; height: 300px;"></div>
                        </div>
                        <div class="chart-container">
                            <h3>User Growth</h3>
                            <div id="userGrowthChart" style="width: 100%; height: 300px;"></div>
                        </div>
                    </div>

                    <div class="dashboard-recent">
                        <div class="recent-orders">
                            <h3>Recent Orders</h3>
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>Order ID</th>
                                        <th>Customer</th>
                                        <th>Date</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="recentOrdersTable">
                                    <!-- Will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Users Section -->
                <div class="admin-section" id="users-section">
                    <div class="section-header">
                        <h2>User Management</h2>
                        <button class="btn btn-primary" id="addUserBtn">
                            <i class="fas fa-plus"></i> Add User
                        </button>
                    </div>
                    <div class="section-filters">
                        <input type="text" id="userSearchInput" placeholder="Search users...">
                        <select id="userRoleFilter">
                            <option value="">All Roles</option>
                            <option value="admin">Admin</option>
                            <option value="user">User</option>
                            <option value="seller">Seller</option>
                        </select>
                        <button class="btn" id="userFilterBtn">Filter</button>
                    </div>
                    <div class="section-content">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Username</th>
                                    <th>Email</th>
                                    <th>Full Name</th>
                                    <th>Phone</th>
                                    <th>Role</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTable">
                                <!-- Will be populated by JavaScript -->
                            </tbody>
                        </table>
                        <div class="pagination" id="usersPagination">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Shops Section -->
                <div class="admin-section" id="shops-section">
                    <div class="section-header">
                        <h2>Shop Management</h2>
                        <button class="btn btn-primary" id="addShopBtn">
                            <i class="fas fa-plus"></i> Add Shop
                        </button>
                    </div>
                    <div class="section-filters">
                        <input type="text" id="shopSearchInput" placeholder="Search shops...">
                        <select id="shopStatusFilter">
                            <option value="">All Status</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                        <button class="btn" id="shopFilterBtn">Filter</button>
                    </div>
                    <div class="section-content">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Shop Name</th>
                                    <th>Owner</th>
                                    <th>Address</th>
                                    <th>Phone</th>
                                    <th>Rating</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="shopsTable">
                                <!-- Will be populated by JavaScript -->
                            </tbody>
                        </table>
                        <div class="pagination" id="shopsPagination">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Products Section -->
                <div class="admin-section" id="products-section">
                    <div class="section-header">
                        <h2>Product Management</h2>
                        <button class="btn btn-primary" id="addProductBtn">
                            <i class="fas fa-plus"></i> Add Product
                        </button>
                    </div>
                    <div class="section-filters">
                        <input type="text" id="productSearchInput" placeholder="Search products...">
                        <select id="productCategoryFilter">
                            <option value="">All Categories</option>
                            <!-- Will be populated by JavaScript -->
                        </select>
                        <select id="productShopFilter">
                            <option value="">All Shops</option>
                            <!-- Will be populated by JavaScript -->
                        </select>
                        <button class="btn" id="productFilterBtn">Filter</button>
                    </div>
                    <div class="section-content">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Image</th>
                                    <th>Name</th>
                                    <th>Shop</th>
                                    <th>Category</th>
                                    <th>Price</th>
                                    <th>Stock</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="productsTable">
                                <!-- Will be populated by JavaScript -->
                            </tbody>
                        </table>
                        <div class="pagination" id="productsPagination">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Orders Section -->
                <div class="admin-section" id="orders-section">
                    <div class="section-header">
                        <h2>Order Management</h2>
                    </div>
                    <div class="section-filters">
                        <input type="text" id="orderSearchInput" placeholder="Search orders...">
                        <select id="orderStatusFilter">
                            <option value="">All Status</option>
                            <option value="pending">Pending</option>
                            <option value="processing">Processing</option>
                            <option value="shipped">Shipped</option>
                            <option value="delivered">Delivered</option>
                            <option value="cancelled">Cancelled</option>
                        </select>
                        <button class="btn" id="orderFilterBtn">Filter</button>
                    </div>
                    <div class="section-content">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Order ID</th>
                                    <th>Customer</th>
                                    <th>Date</th>
                                    <th>Total</th>
                                    <th>Status</th>
                                    <th>Payment</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTable">
                                <!-- Will be populated by JavaScript -->
                            </tbody>
                        </table>
                        <div class="pagination" id="ordersPagination">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Categories Section -->
                <div class="admin-section" id="categories-section">
                    <div class="section-header">
                        <h2>Category Management</h2>
                        <button class="btn btn-primary" id="addCategoryBtn">
                            <i class="fas fa-plus"></i> Add Category
                        </button>
                    </div>
                    <div class="section-content">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Description</th>
                                    <th>Products Count</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="categoriesTable">
                                <!-- Will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Settings Section -->
                <div class="admin-section" id="settings-section">
                    <div class="section-header">
                        <h2>System Settings</h2>
                    </div>
                    <div class="section-content">
                        <div class="settings-form">
                            <div class="form-group">
                                <label for="siteName">Site Name</label>
                                <input type="text" id="siteName" value="VieShop">
                            </div>
                            <div class="form-group">
                                <label for="siteDescription">Site Description</label>
                                <textarea id="siteDescription">VieShop - Vietnamese Online Shopping Platform</textarea>
                            </div>
                            <div class="form-group">
                                <label for="contactEmail">Contact Email</label>
                                <input type="email" id="contactEmail" value="contact@vieshop.com">
                            </div>
                            <div class="form-group">
                                <label for="maintenanceMode">Maintenance Mode</label>
                                <select id="maintenanceMode">
                                    <option value="off">Off</option>
                                    <option value="on">On</option>
                                </select>
                            </div>
                            <button class="btn btn-primary" id="saveSettingsBtn">Save Settings</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- User Modal -->
    <div class="modal" id="userModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="userModalTitle">Add User</h3>
                <button class="close-modal" id="closeUserModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="userForm">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" required>
                    </div>
                    <div class="form-group">
                        <label for="fullName">Full Name</label>
                        <input type="text" id="fullName" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone</label>
                        <input type="text" id="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password">
                        <small>Leave blank to keep current password (when editing)</small>
                    </div>
                    <div class="form-group">
                        <label for="role">Role</label>
                        <select id="role" required>
                            <option value="user">User</option>
                            <option value="seller">Seller</option>
                            <option value="admin">Admin</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="status">Status</label>
                        <select id="status" required>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                    <div class="modal-buttons">
                        <button type="button" class="btn btn-cancel" id="cancelUserBtn">Cancel</button>
                        <button type="submit" class="btn btn-confirm">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Shop Modal -->
    <div class="modal" id="shopModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="shopModalTitle">Add Shop</h3>
                <button class="close-modal" id="closeShopModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="shopForm">
                    <div class="form-group">
                        <label for="shopName">Shop Name</label>
                        <input type="text" id="shopName" required>
                    </div>
                    <div class="form-group">
                        <label for="shopOwner">Owner</label>
                        <select id="shopOwner" required>
                            <!-- Will be populated by JavaScript -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="shopDescription">Description</label>
                        <textarea id="shopDescription" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="shopAddress">Address</label>
                        <input type="text" id="shopAddress" required>
                    </div>
                    <div class="form-group">
                        <label for="shopPhone">Phone</label>
                        <input type="text" id="shopPhone" required>
                    </div>
                    <div class="form-group">
                        <label for="shopAvatarUrl">Avatar URL</label>
                        <input type="text" id="shopAvatarUrl">
                    </div>
                    <div class="form-group">
                        <label for="shopBannerUrl">Banner URL</label>
                        <input type="text" id="shopBannerUrl">
                    </div>
                    <div class="form-group">
                        <label for="shopStatus">Status</label>
                        <select id="shopStatus" required>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                    <div class="modal-buttons">
                        <button type="button" class="btn btn-cancel" id="cancelShopBtn">Cancel</button>
                        <button type="submit" class="btn btn-confirm">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Product Modal -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="productModalTitle">Add Product</h3>
                <button class="close-modal" id="closeProductModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="productForm">
                    <div class="form-group">
                        <label for="productName">Product Name</label>
                        <input type="text" id="productName" required>
                    </div>
                    <div class="form-group">
                        <label for="productShop">Shop</label>
                        <select id="productShop" required>
                            <!-- Will be populated by JavaScript -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="productCategory">Category</label>
                        <select id="productCategory" required>
                            <!-- Will be populated by JavaScript -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="productDescription">Description</label>
                        <textarea id="productDescription" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="productPrice">Price</label>
                        <input type="number" id="productPrice" required>
                    </div>
                    <div class="form-group">
                        <label for="productStock">Stock</label>
                        <input type="number" id="productStock" required>
                    </div>
                    <div class="form-group">
                        <label for="productImageUrl">Image URL</label>
                        <input type="text" id="productImageUrl">
                    </div>
                    <div class="modal-buttons">
                        <button type="button" class="btn btn-cancel" id="cancelProductBtn">Cancel</button>
                        <button type="submit" class="btn btn-confirm">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Category Modal -->
    <div class="modal" id="categoryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="categoryModalTitle">Add Category</h3>
                <button class="close-modal" id="closeCategoryModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="categoryForm">
                    <div class="form-group">
                        <label for="categoryName">Category Name</label>
                        <input type="text" id="categoryName" required>
                    </div>
                    <div class="form-group">
                        <label for="categoryDescription">Description</label>
                        <textarea id="categoryDescription" required></textarea>
                    </div>
                    <div class="modal-buttons">
                        <button type="button" class="btn btn-cancel" id="cancelCategoryBtn">Cancel</button>
                        <button type="submit" class="btn btn-confirm">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Order Detail Modal -->
    <div class="modal" id="orderDetailModal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h3 id="orderDetailTitle">Order Details</h3>
                <button class="close-modal" id="closeOrderDetailModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="order-info">
                    <div class="order-header">
                        <div>
                            <h4>Order #<span id="orderDetailId"></span></h4>
                            <p>Date: <span id="orderDetailDate"></span></p>
                        </div>
                        <div>
                            <select id="orderDetailStatus">
                                <option value="pending">Pending</option>
                                <option value="processing">Processing</option>
                                <option value="shipped">Shipped</option>
                                <option value="delivered">Delivered</option>
                                <option value="cancelled">Cancelled</option>
                            </select>
                            <button class="btn btn-primary" id="updateOrderStatusBtn">Update Status</button>
                        </div>
                    </div>
                    <div class="order-customer">
                        <h4>Customer Information</h4>
                        <p>Name: <span id="orderCustomerName"></span></p>
                        <p>Email: <span id="orderCustomerEmail"></span></p>
                        <p>Phone: <span id="orderCustomerPhone"></span></p>
                    </div>
                    <div class="order-shipping">
                        <h4>Shipping Address</h4>
                        <p id="orderShippingAddress"></p>
                    </div>
                    <div class="order-payment">
                        <h4>Payment Information</h4>
                        <p>Method: <span id="orderPaymentMethod"></span></p>
                        <p>Status: <span id="orderPaymentStatus"></span></p>
                        <p>Transaction ID: <span id="orderTransactionId"></span></p>
                    </div>
                    <div class="order-items">
                        <h4>Order Items</h4>
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>Shop</th>
                                    <th>Price</th>
                                    <th>Quantity</th>
                                    <th>Total</th>
                                </tr>
                            </thead>
                            <tbody id="orderItemsTable">
                                <!-- Will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    <div class="order-summary">
                        <div class="summary-item">
                            <span>Subtotal:</span>
                            <span id="orderSubtotal"></span>
                        </div>
                        <div class="summary-item">
                            <span>Shipping:</span>
                            <span id="orderShipping"></span>
                        </div>
                        <div class="summary-item total">
                            <span>Total:</span>
                            <span id="orderTotal"></span>
                        </div>
                    </div>
                </div>
                <div class="modal-buttons">
                    <button type="button" class="btn btn-cancel" id="closeOrderDetailBtn">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal" id="deleteConfirmModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm Deletion</h3>
                <button class="close-modal" id="closeDeleteConfirmModal">&times;</button>
            </div>
            <div class="modal-body">
                <p id="deleteConfirmMessage">Are you sure you want to delete this item?</p>
                <div class="modal-buttons">
                    <button type="button" class="btn btn-cancel" id="cancelDeleteBtn">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <script type="module" src="js/admin.js"></script>
</body>
</html> 